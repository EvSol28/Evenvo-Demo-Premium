<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Créer un Événement</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">NocEvent</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard">Tableau de bord</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/create_event">Créer un événement</a>
                </li>
            </ul>
        </div>
    </nav>

<div class="container mt-5">
    <h2 class="text-center">Créer un événement</h2>

    <div class="alert alert-danger" id="error-message" style="display: none;"></div>

    <form action="/create_event" method="POST" id="create-event-form">
        <div class="mb-3">
            <label for="event_name" class="form-label">Nom de l'événement</label>
            <input type="text" class="form-control" id="event_name" name="event_name" required>
        </div>
        <div class="mb-3">
            <label for="start_date" class="form-label">Date de début</label>
            <input type="date" class="form-control" id="start_date" name="start_date" required>
        </div>
        <div class="mb-3">
            <label for="end_date" class="form-label">Date de fin</label>
            <input type="date" class="form-control" id="end_date" name="end_date" required>
        </div>
        <div class="mb-3">
            <label for="wilaya" class="form-label">Wilaya</label>
            <select class="form-control" id="wilaya" name="wilaya" required>
                <option value="">Sélectionner une wilaya</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Adresse</label>
            <input type="text" class="form-control" id="address" name="address" required>
        </div>
        <button type="submit" class="btn btn-primary">Créer l'événement</button>
    </form>
</div>





    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <script>
document.addEventListener('DOMContentLoaded', function () {
    const wilayaSelect = document.getElementById('wilaya');

    // Liste des 58 wilayas de l'Algérie
    const algerianWilayas = [
        "Adrar", "Chlef", "Laghouat", "Oum El Bouaghi", "Batna", "Béjaïa", "Biskra", "Béchar",
        "Blida", "Bouira", "Tamanrasset", "Tébessa", "Tlemcen", "Tiaret", "Tizi Ouzou", "Alger",
        "Djelfa", "Jijel", "Sétif", "Saïda", "Skikda", "Sidi Bel Abbès", "Annaba", "Guelma",
        "Constantine", "Médéa", "Mostaganem", "M'Sila", "Mascara", "Ouargla", "Oran", "El Bayadh",
        "Illizi", "Bordj Bou Arreridj", "Boumerdès", "El Tarf", "Tindouf", "Tissemsilt", "El Oued",
        "Khenchela", "Souk Ahras", "Tipaza", "Mila", "Aïn Defla", "Naâma", "Aïn Témouchent",
        "Ghardaïa", "Relizane", "Timimoun", "Bordj Badji Mokhtar", "Ouled Djellal", "Béni Abbès",
        "In Salah", "In Guezzam", "Touggourt", "Djanet", "El M'Ghair", "El Menia"
    ];

    // Remplissage de la liste déroulante avec les wilayas
    algerianWilayas.forEach(wilaya => {
        const option = document.createElement('option');
        option.value = wilaya;
        option.textContent = wilaya;
        wilayaSelect.appendChild(option);
    });

    // Validation du formulaire avant soumission
document.getElementById('create-event-form').addEventListener('submit', function (e) {
    const eventName = document.getElementById('event_name').value.trim();
    const startDate = document.getElementById('start_date').value;
    const endDate = document.getElementById('end_date').value;
    const wilaya = document.getElementById('wilaya').value;
    const address = document.getElementById('address').value.trim();
    const errorMessage = document.getElementById('error-message');

    let errors = [];

    if (!eventName) errors.push('Le nom de l\'événement est requis.');
    if (!startDate) errors.push('La date de début est requise.');
    if (!endDate) errors.push('La date de fin est requise.');
    if (!wilaya) errors.push('Veuillez sélectionner une wilaya.');
    if (!address) errors.push('L\'adresse est requise.');
	

    if (errors.length > 0) {
        e.preventDefault();
        errorMessage.style.display = 'block';
        errorMessage.innerHTML = errors.join('<br>');
    } else {
        errorMessage.style.display = 'none';
    }
});


});



    </script>

</body>
</html>
